/*
  styles.css — light, business‑friendly theme with clear hierarchy.
  Color tokens are aligned with the chart PALETTE in App.tsx.
*/
:root {
  --bg: #f6f8fb;
  --card: #ffffff;
  --muted: #5f6b7a;
  --text: #0f172a;
  --accent: #0d6efd;
  --border: #e5e9f1;
}

* { box-sizing: border-box; }
body {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: linear-gradient(180deg, #ffffff 0%, #f6f8fb 100%);
  color: var(--text);
  margin: 0;
  line-height: 1.5;
  overflow-x: hidden;
}
.container {
  max-width: 1240px;
  margin: 2rem auto;
  padding: 0 1rem;
  overflow-x: hidden;
}
.tabs { position: sticky; top: 0; z-index: 10; padding: 0.5rem 0; margin-bottom: 0.5rem; background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(246,248,251,0.9)); backdrop-filter: saturate(180%) blur(8px); border-bottom: 1px solid var(--border); }
.title { font-size: 1.9rem; letter-spacing: 0.2px; margin-bottom: 0.75rem; font-weight: 700; }
.grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.25rem;
}
.card { background: var(--card); border: 1px solid var(--border); border-radius: 14px; box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08); padding: 1rem 1.25rem; }
.card + .card { margin-top: 0.75rem; }
.card.compact { padding: 0.6rem 0.8rem; }
.card.compact h2 { font-size: 1.05rem; margin-bottom: 0.5rem; }
.card.compact .row { grid-template-columns: 1fr; gap: 0.5rem; }
.card.compact input, .card.compact select { padding: 0.35rem 0.5rem; font-size: 0.95rem; }
.card.compact button.primary { padding: 0.5rem 0.8rem; width: 100%; }
.card h2 { margin: 0 0 0.75rem 0; font-size: 1.2rem; }
h3 { margin: 0.75rem 0 0.5rem 0; font-size: 1.05rem; }
h4 { margin: 0.5rem 0 0.25rem 0; font-size: 0.98rem; }
.row { display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; }
/* Toolbar labels smaller */
.toolbar label { color: var(--muted); font-size: 0.85rem; display:block; margin-bottom: 0.25rem; }
label { color: var(--muted); font-size: 0.9rem; }
input[type="number"], input[type="text"], select {
  width: 100%;
  background: #ffffff;
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 0.5rem 0.6rem;
}
input:focus, select:focus { outline: none; border-color: #b7cdfc; box-shadow: 0 0 0 3px rgba(13,110,253,0.08); }
button.primary {
  background: var(--accent);
  color: white;
  border: none;
  border-radius: 10px;
  padding: 0.55rem 0.9rem;
  cursor: pointer;
  box-shadow: 0 6px 14px rgba(13,110,253,0.25);
  transition: all .15s ease;
}
button.primary:disabled { opacity: 0.7; cursor: default; box-shadow: none; }
/* Inline spinner for async buttons */
.btn-inline { display: inline-flex; align-items: center; gap: 8px; }
.spinner {
  width: 14px; height: 14px;
  border: 2px solid rgba(255,255,255,0.5);
  border-top-color: #fff;
  border-radius: 50%;
  animation: spin .8s linear infinite;
}
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg);} }
/* Tab buttons */
.tab-btn { transition: all .15s ease; }
.tab-btn:not(.active) { background: #ffffff !important; color: #0f172a !important; border: 1px solid var(--border); }
.tab-btn.active { background: var(--accent) !important; color: #fff !important; }
.tab-btn:hover { transform: translateY(-1px); }
/* Chart container helpers */
.chart-sm { height: 220px; }
.chart-md { height: 280px; }
.chart-lg { height: 380px; }
@media (max-width: 900px){ .chart-lg { height: 300px; } .chart-md { height: 240px; } }
table { width: 100%; border-collapse: collapse; }
th, td { padding: 0.55rem 0.6rem; border-bottom: 1px solid var(--border); vertical-align: middle; }
table { table-layout: fixed; }
th, td { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
thead th { background: #f7f9fc; font-weight: 600; }
.table-sticky tbody tr:nth-child(odd) { background: #fafcff; }
.table-sticky tbody tr:hover { background: #f3f8ff; }
.muted { color: var(--muted); }
@media (max-width: 900px){ .grid { grid-template-columns: 1fr; } }

/* Member Profile responsive inner grid */
.profile-grid { display: grid; grid-template-columns: 1.6fr 1fr; gap: 1.25rem; }
@media (max-width: 900px){ .profile-grid { grid-template-columns: 1fr; } }

/* Sticky table headers for long tables */
.table-sticky thead th { position: sticky; top: 0; background: #f7f9fc; z-index: 1; }

/* Allow wrapped content for wide tables where readability is preferred */
.table-wrap { table-layout: auto; }
.table-wrap th, .table-wrap td { white-space: normal; overflow: visible; text-overflow: clip; }

/* Compact badges */
.badge { display: inline-block; font-size: 0.75rem; line-height: 1; padding: 0.2rem 0.4rem; border-radius: 999px; margin-left: 0.4rem; }
.badge.high { background: rgba(25,135,84,0.15); color: #198754; border: 1px solid rgba(25,135,84,0.3); }
.badge.med { background: rgba(255,193,7,0.15); color: #b88600; border: 1px solid rgba(255,193,7,0.3); }

/* KPI chips */
.kpis { display: flex; gap: 10px; flex-wrap: wrap; margin: 0.25rem 0 0.75rem 0; }
.kpi-chip { background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.08); border-radius: 999px; padding: 0.35rem 0.6rem; font-size: 0.9rem; }
.kpi-chip { background: #f0f4ff; border-color: #d6e3ff; }
.kpi-chip strong { margin-right: 4px; color: #0d6efd; }
/* KPI semantics */
.kpi-chip.opportunity { background: #e9f7ef; border-color: #cfead9; }
.kpi-chip.opportunity strong { color: #198754; }
.kpi-chip.watch { background: #fff7e6; border-color: #ffe0b2; }
.kpi-chip.watch strong { color: #b88600; }
/* Subtitles under charts */
.subtitle { color: var(--muted); font-size: 0.9rem; margin-top: 0.4rem; }
/* Print styles for Executive Summary */
@media print { .no-print { display: none !important; } body { background: #ffffff; } }

/* Business-style callout */
.callout { background: #fff7e6; border: 1px solid #ffe0b2; color: #7a5d2a; border-radius: 10px; padding: 0.6rem 0.8rem; }
/* Guidance card */
.guidance { background: #f1f7ff; border-left: 4px solid #0d6efd; border-radius: 8px; padding: 0.6rem 0.8rem; }

/* Segments: header stats + controls */
.stats-row { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 0.75rem; margin-bottom: 0.75rem; }
.stat { background:#f9fbff; border:1px solid var(--border); border-radius:10px; padding:0.6rem 0.75rem; box-shadow: 0 4px 10px rgba(15, 23, 42, 0.04); }
.stat-label { color: var(--muted); font-size: 0.82rem; }
.stat-value { font-weight: 700; font-size: 1.05rem; margin-top: 2px; }
.controls-grid { display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:0.75rem; align-items:end; margin-bottom: 0.5rem; }
.section-title { display:flex; align-items:center; justify-content:space-between; margin: 0.25rem 0 0.5rem 0; }
/* Utility grids */
.grid-2 { display:grid; grid-template-columns: repeat(2,minmax(0,1fr)); gap: 1rem; }
.grid-3 { display:grid; grid-template-columns: repeat(3,minmax(0,1fr)); gap: 1rem; }
@media (max-width: 900px){ .grid-2, .grid-3 { grid-template-columns: 1fr; } }

/* Toolbar refinement */
.toolbar { display:flex; gap:12px; align-items:end; flex-wrap:wrap; margin: .25rem 0 .75rem 0; }
.toolbar .field { min-width: 200px; }
.toolbar.compact .field { min-width: 160px; }
